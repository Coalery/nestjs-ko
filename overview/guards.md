---
description: "원문 : https://docs.nestjs.com/guards"
---

# Guards

가드는 `@Injectable()` 데코레이터가 붙어있는, `CanActivate` 인터페이스를 구현하는 클래스입니다.

![Guards_1.png](https://docs.nestjs.com/assets/Guards_1.png)

가드는 **단일 책임**을 갖습니다. 가드는 런타임의 권한, 역할, ACL 등의 조건에 따라, 주어진 요청이 라우트 핸들러에 의해 처리될 것인지를 결정합니다. 이것은 <strong>인가(authorization)</strong>라고 불리기도 합니다. 일반적으로 기존 Express 어플리케이션에서 인가와, 인가의 사촌 <strong>인증(authentication)</strong>은 [미들웨어](https://docs.nestjs.com/middleware)로 처리가 됩니다. 물론 토큰 검증과 `request` 객체에 속성을 붙이는 것이 특정 라우트 컨텍스트와 메타데이터에 한정되지 않기 때문에, 미들웨어로 인증을 처리하는 것도 좋은 선택이긴 합니다.

하지만, 미들웨어는 본질적으로 바보입니다. 그 이유는, `next()` 함수를 호출한 뒤에 어떤 핸들러가 실행될지 모르기 때문입니다. 반면, **가드**는 `ExecutionContext` 인스턴스에 접근할 수 있으므로 다음에 무엇이 실행될지를 정확히 알 수 있습니다. 앞서 나왔던 예외 필터, 파이프, 그리고 추후 나올 인터셉터와 마찬가지로, 가드 또한 요청/응답 사이클의 정확한 위치에 선언적으로 처리 로직을 끼워넣을 수 있게 설계되었습니다. 이를 통해 코드의 반복을 줄이고 선언적으로 유지할 수 있게 됩니다.

> **팁**
> 
> 가드는 미들웨어 **이후**, 그리고 인터셉터와 파이프 **이전**에 실행됩니다.